trigger:
- main  # Automatically run this pipeline on main branch push

pool:
  name: Default            # 🧠 Make sure this is the correct pool name in Azure DevOps
  demands:
    - "agent.name -equals agent1"  # ✅ Target your self-hosted agent named 'agent1'

steps:
- script: echo "✅ Running on self-hosted agent: agent1"
  displayName: 'Verify agent connection'

- task: NodeTool@0
  inputs:
    versionSpec: '16.x'
  displayName: 'Install Node.js'

- script: |
    npm install
  displayName: 'Install dependencies'

- script: |
    npm run build || echo "⚠️ No build step defined"
  displayName: 'Build the app'
